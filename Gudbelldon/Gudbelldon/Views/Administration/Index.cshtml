@using System.Globalization;
@model HomeModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";

    var cultureInfo = new CultureInfo("de-AT");
}

<div class="container">
    <div class="row">
        <div class="col s12 section">
            <h2 class="header">Strickabendtermine</h2>
            <table class="striped">
                <thead>
                    <tr>
                        <th data-field="date">Datum</th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var date in Model.KnittingDates)
                    {
                        <tr>
                            <td>@date.Date.ToString("ddd dd.MM.yyyy", cultureInfo)</td>
                        </tr>
                    }
                </tbody>
            </table>

            <br />
            @using (Html.BeginForm("CreateKnittingDate", "Administration", FormMethod.Post, new { @class = "col s12" }))
            {
                <div class="row">
                    <div class="col sm6">
                        <input type="date" class="datepicker" name="date" />
                    </div>
                    <div class="col sm6">
                        <button class="btn waves-effect waves-light" type="submit" name="action">
                            Hinzufügen
                            <i class="material-icons right">send</i>
                        </button>
                    </div>
                </div>
            }
        </div>
    </div>

    <div class="row">
        <div class="col s12 section">
            <h2 class="header">Kurse und Veranstaltungen</h2>
            <table class="striped">
                <thead>
                    <tr>
                        <th data-field="date"></th>
                        <th data-field="title">Titel</th>
                        <th data-field="date">Datum</th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var e in Model.Events)
                    {
                        <tr>
                            <td><img class="responsive-img" style="max-width:100px" src="@e.ImageUrl" /></td>
                            <td>@e.Title</td>
                            <td>@e.Date.ToString("ddd dd.MM.yyyy", cultureInfo)</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>
